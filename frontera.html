<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fronteras - Gestor de Grandes Ligas</title>
  <link rel="stylesheet" href="css/fronteras.css">
  <meta name="robots" content="noindex">
</head>
<body>

  <header class="furbo-header">
    <div class="header-inner">
      <h1 class="furbo-title">Furbo</h1>
      <p class="furbo-subtitle">El mejor simulador de fútbol</p>
    </div>
  </header>

<main class="container">

  <section id="view-selection" style="padding: 40px 0;">
    <div class="carousel-wrap card" id="carousel-section" style="margin-top:18px;">
      <div class="carousel-container">
        <button class="carousel-btn prev" id="carousel-prev">&#10094;</button>
        <div class="carousel-viewport">
          <div class="carousel-track">
            <div class="league-item league-premier" data-key="premier" style="flex-shrink:0;">
              <div class="logo">PL</div>
              <h4>Premier League</h4>
              <p class="subtitle">Inglaterra</p>
            </div>
            <div class="league-item league-laliga" data-key="laliga" style="flex-shrink:0;">
              <div class="logo">LL</div>
              <h4>LaLiga</h4>
              <p class="subtitle">España</p>
            </div>
            <div class="league-item league-seriea" data-key="seriea" style="flex-shrink:0;">
              <div class="logo">SA</div>
              <h4>Serie A</h4>
              <p class="subtitle">Italia</p>
            </div>
            <div class="league-item league-bundesliga" data-key="bundesliga" style="flex-shrink:0;">
              <div class="logo">BL</div>
              <h4>Bundesliga</h4>
              <p class="subtitle">Alemania</p>
            </div>
            <div class="league-item league-ligue1" data-key="ligue1" style="flex-shrink:0;">
              <div class="logo">L1</div>
              <h4>Ligue 1</h4>
              <p class="subtitle">Francia</p>
            </div>
          </div>
        </div>
        <button class="carousel-btn next" id="carousel-next">&#10095;</button>
      </div>
    </div>
    <button id="btn-global-view" class="btn-play" style="max-width:300px;margin:20px auto;display:block;background:var(--surface2);border:1px solid var(--accent);color:var(--accent);">Simulación Global</button>
  </section>

  <section id="view-dashboard" class="card hidden" style="margin-top:18px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
      <h3 id="league-title">Liga</h3>
      <div>
        <button onclick="goBackToSelection()" style="margin-right:8px;">Volver</button>
        <button id="reset-btn">Reiniciar datos</button>
      </div>
    </div>

    <div class="grid">
      <div>
        <div class="controls-bar">
          <button id="simulate-match-btn" type="button" class="btn-small">Semana</button>
          <button id="simulate-league-btn" type="button" class="btn-small">Liga</button>
          <select id="team-selector" style="flex:1;min-width:150px;">
            <option value="">Selecciona equipo</option>
          </select>
          <button id="view-team-btn" type="button" class="btn-small">Ver</button>
          <button id="view-history-btn" type="button" class="btn-small" style="background:var(--surface2);color:var(--text);border:1px solid var(--border)">Historial</button>
        </div>
        
        <table>
          <thead>
            <tr><th>#</th><th>Equipo</th><th>PJ</th><th>W</th><th>D</th><th>L</th><th>GF</th><th>GA</th><th>GD</th><th>PTS</th></tr>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>

      <aside>
        <div class="card">
          <h4>Enfrentamientos</h4>
          <div id="matches-container" style="display:flex;flex-direction:column;gap:8px;max-height:none;overflow-y:visible;">
            <p style="color:var(--muted);font-size:13px;">Los resultados aparecerán aquí</p>
          </div>
        </div>
      </aside>
    </div>

  </section>

  <section id="view-team" class="card hidden" style="margin-top:18px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;">
      <h3 id="team-name-title" style="margin:0">Equipo</h3>
      <button onclick="goBackToDashboard()" class="btn-small">Volver</button>
    </div>

    <div style="display:flex; gap: 10px; margin-bottom: 20px;">
      <select id="match-selector" style="flex:1; padding:12px; border-radius:10px; border:1px solid var(--border); background:var(--surface2); color:var(--text); font-size: 14px;">
        <option value="">Selecciona partido</option>
      </select>
      <button id="view-match-detail-btn" type="button" class="btn-small" style="padding: 0 20px;">Ir al Estadio</button>
    </div>

    <div id="match-detail-view" class="match-center" style="display:none;">
      
      <div class="scoreboard">
        <div class="scoreboard-content">
          <div class="team-display">
            <h2 id="match-home">LOCAL</h2>
          </div>
          <div style="display:flex; flex-direction:column; align-items:center;">
            <div class="score-display">
              <span id="match-home-score">0</span>-<span id="match-away-score">0</span>
            </div>
            <div class="match-timer"><span id="current-minute">0</span>'</div>
          </div>
          <div class="team-display">
            <h2 id="match-away">VISITANTE</h2>
          </div>
        </div>
        <div class="progress-track">
          <div id="minute-progress" class="progress-fill"></div>
        </div>
      </div>

      <button id="simulate-match-detail-btn" type="button" class="btn-play">Iniciar Partido</button>

      <div class="events-feed">
        <h4>Narración en vivo</h4>
        <div id="events-container" style="display:flex;flex-direction:column;gap:8px;">
          <p style="color:var(--muted);font-size:13px;text-align:center;padding:20px;">El partido está por comenzar...</p>
        </div>
      </div>

    </div>
  </section>

  <section id="view-global" class="card hidden" style="margin-top:18px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;">
      <h3 style="margin:0">Panel Global de Ligas</h3>
      <button onclick="goBackToSelection()" class="btn-small">Volver</button>
    </div>
    <div class="controls-bar" style="justify-content:center; gap: 15px;">
      <button id="global-start-btn" class="btn-play" style="width:auto;margin:0;">Iniciar Semana</button>
      <button id="global-sim-btn" class="btn-play" style="width:auto;margin:0;background:var(--success);color:white;display:none;">Simular Resultados</button>
      <button id="global-sim-one-btn" class="btn-play" style="width:auto;margin:0;background:var(--accent2);color:#0b1220;display:none;">Simular 1 Partido</button>
      <button id="global-standings-btn" class="btn-play" style="width:auto;margin:0;background:var(--accent2);color:#0b1220;">Clasificación</button>
      <button id="global-history-btn" class="btn-play" style="width:auto;margin:0;background:var(--surface2);color:var(--text);border:1px solid var(--border)">Historial</button>
      <button id="global-reset-btn" class="btn-play" style="width:auto;margin:0;background:var(--danger);color:white;">Resetear Todo</button>
    </div>
    <div id="global-matches-container" style="display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:16px;margin-top:20px;"></div>
  </section>

</main>

<div id="history-modal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3 style="margin:0">Historial de Resultados</h3>
      <button class="close-modal" id="close-history-btn">&times;</button>
    </div>
    <div class="modal-body" id="history-content"></div>
  </div>
</div>

<div id="toast-container" class="toast-container"></div>
<canvas id="confetti-canvas"></canvas>

<script src="js/frontera.js" defer></script>
</body>
</html>
